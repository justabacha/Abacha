<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ghost Hub</title>

  <!-- PWA / Theme -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Ghost visuals -->
  <script src="theme-engine.js"></script>

  <style>
    html, body {
      background: #000;
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body class="hub-page">

  <!-- ğŸ”’ SPLASH SCREEN -->
  <div id="splash-screen" style="
    position: fixed;
    inset: 0;
    background: #000;
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    opacity: 1;
    transition: opacity .6s ease;
  ">
    <h1>Justâ€¢AbachağŸ˜</h1>
  </div>

  <!-- ğŸŒ¦ WEATHER / TIME -->
  <div class="glass-card" id="weather-widget">
    <h1 id="time">00:00</h1>
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <p id="temp">--Â°C</p>
      <p id="condition">Loading weather...</p>
    </div>
    <hr style="border:0.5px solid var(--glass-border); margin:15px 0;">
    <p id="daily-quote" style="font-style:italic; opacity:0.8;">
      "Loading inspiration..."
    </p>
  </div>

  <!-- ğŸ§­ NAVIGATION -->
  <div class="glass-card" style="margin:10px; padding:20px; border-radius:35px;">
    <p style="opacity:.6; font-size:12px; margin-bottom:15px; letter-spacing:1px;">
      GHOST NAVIGATION
    </p>

    <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
      <a href="chat-list.html" class="nav-tile">ğŸ’¬<p>Chat</p></a>
      <a href="gallery.html" class="nav-tile">ğŸ­<p>Gallery</p></a>
      <a href="bucket.html" class="nav-tile">ğŸ“<p>Bucket</p></a>
      <a href="settings.html" class="nav-tile">âš™ï¸<p>Settings</p></a>
    </div>
  </div>

  <!-- ğŸ‘£ FOOTER -->
  <div style="text-align:center; margin:80px 0 30px; padding:0 20px;">
    <p style="font-size:14px; font-weight:800; letter-spacing:1.5px;">
      ...Justâ€¢Abacha v1.0ğŸ˜...
    </p>
    <p style="font-size:11px; line-height:1.6;">
      Handcrafted by Phestone. Powered by the Phesty Ghost Engine.<br>
      <span style="font-size:10px; font-weight:bold;">Â©2026 ALL RIGHTS RESERVED</span>
    </p>
  </div>

  <!-- ğŸ”‘ SUPABASE -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- ğŸ” AUTH GUARD + SPLASH CONTROL -->
  <script>
    const supabaseClient = supabase.createClient(
      "https://zvkretqhqmxuhgspddpu.supabase.co",
      "sb_publishable__7_K38aDluNYgS0bxLuLfA_aV5-ZnIY"
    );

    document.addEventListener('DOMContentLoaded', async () => {
      const { data: { session } } = await supabaseClient.auth.getSession();

      // ğŸš« Not logged in â†’ bounce
      if (!session) {
        window.location.replace('index.html');
        return;
      }

      // âœ… Logged in â†’ show splash briefly
      const splash = document.getElementById('splash-screen');
      if (splash) {
        setTimeout(() => {
          splash.style.opacity = '0';
          setTimeout(() => splash.remove(), 600);
        }, 1200);
      }
    });
  </script>

  <!-- ğŸ§  MAIN APP LOGIC -->
  <script src="app.js" defer></script>

</body>
</html>
