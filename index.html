<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phestone Ghost</title>
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="theme-engine.js"></script>
</head>
<body class="login-page">
    
    <div id="splash-screen" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center; color:white; font-family:sans-serif;">
        
        <h1 style="font-size: 2.8rem; font-weight: 900; letter-spacing: -1.5px; margin-bottom: 5px; color: #fff;">Justâ€¢AbachaðŸ˜Ž</h1>
        
        <div style="font-size: 1.4rem; display: flex; align-items: center; gap: 12px; opacity: 0.9; margin-top: 10px;">
            <span style="filter: drop-shadow(0 0 8px rgba(255,255,255,0.4));">ðŸ‘»</span>
            <span id="ghost-counter" style="font-family: monospace; font-weight: bold; min-width: 20px;">0</span>
        </div>

        <div style="position:absolute; bottom:50px; text-align:center; width:100%; opacity:0.6;">
            <p style="font-size:14px; letter-spacing:2.5px; margin-bottom:10px; font-weight: bold; color: #007AFF;">â€¢â€¢â€¢Justâ€¢AbachaðŸ˜Ž v1.0â€¢â€¢â€¢</p>
            <p style="font-size:10px; opacity: 0.8;">Handcrafted by Phestone. Powered by Phesty Ghost Engine</p>
            <p style="font-size:9px; margin-top:5px; opacity: 0.5;">Â©2026 All Rights Reserved</p>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', async () => {
    // 1. SERVICE WORKER REGISTRATION
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js').catch(err => console.log(err));
    }

    // 2. GHOST TAP-TAP COUNTER
    let count = 0;
    const counterEl = document.getElementById('ghost-counter');
    const ghostInterval = setInterval(() => {
        count = (count % 5) + 1;
        if(counterEl) counterEl.innerText = count;
    }, 800);

    // 3. THE MAGIC DELAY (Force 20 seconds of vibe)
    const { data: { session } } = await supabaseClient.auth.getSession();
    const waitTime = 20000; // 20 Seconds

    setTimeout(() => {
        clearInterval(ghostInterval); // Stop the tap-tap
        
        if (session) {
            // Logged in? Now you can go to the Hub
            window.location.href = 'hub.html';
        } else {
            // Not logged in? Fade out to show the Login Screen
            const splash = document.getElementById('splash-screen');
            splash.style.transition = "opacity 1.5s ease, filter 1.5s ease";
            splash.style.opacity = "0";
            splash.style.filter = "blur(15px)";
            setTimeout(() => {
                splash.style.display = 'none';
            }, 1500);
        }
    }, waitTime);
});
</script>
    
</body>
</html>
  
